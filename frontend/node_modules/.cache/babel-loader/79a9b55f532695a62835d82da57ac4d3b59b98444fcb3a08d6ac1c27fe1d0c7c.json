{"ast":null,"code":"import _objectSpread from\"C:/Users/ssjju/Desktop/sp clone/supermercado/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{createContext,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";export const StoreContext=/*#__PURE__*/createContext();export const StoreProvider=_ref=>{let{children}=_ref;const[cart,setCart]=useState([]);const[user,setUser]=useState(null);const[history,setHistory]=useState([]);const addToCart=product=>{setCart(prevCart=>{const index=prevCart.findIndex(item=>item.id===product.id);if(index!==-1){const updatedCart=[...prevCart];updatedCart[index].quantity+=1;return updatedCart;}return[...prevCart,_objectSpread(_objectSpread({},product),{},{quantity:1})];});};const removeFromCart=productId=>{setCart(prevCart=>prevCart.filter(item=>item.id!==productId));};const decreaseQuantity=productId=>{setCart(prevCart=>{const index=prevCart.findIndex(item=>item.id===productId);if(index!==-1){const updatedCart=[...prevCart];if(updatedCart[index].quantity>1){updatedCart[index].quantity-=1;}else{return updatedCart.filter(item=>item.id!==productId);}return updatedCart;}return prevCart;});};const logout=()=>{setUser(null);setCart([]);setHistory([]);};const checkout=()=>{setHistory(prev=>[...prev,...cart]);setCart([]);};return/*#__PURE__*/_jsx(StoreContext.Provider,{value:{cart,addToCart,removeFromCart,decreaseQuantity,user,setUser,logout,history,checkout},children:children});};","map":{"version":3,"names":["React","createContext","useState","jsx","_jsx","StoreContext","StoreProvider","_ref","children","cart","setCart","user","setUser","history","setHistory","addToCart","product","prevCart","index","findIndex","item","id","updatedCart","quantity","_objectSpread","removeFromCart","productId","filter","decreaseQuantity","logout","checkout","prev","Provider","value"],"sources":["C:/Users/ssjju/Desktop/sp clone/supermercado/frontend/src/context/StoreContext.js"],"sourcesContent":["import React, { createContext, useState } from \"react\";\r\n\r\nexport const StoreContext = createContext();\r\n\r\nexport const StoreProvider = ({ children }) => {\r\n  const [cart, setCart] = useState([]);\r\n  const [user, setUser] = useState(null);\r\n  const [history, setHistory] = useState([]);\r\n\r\n  const addToCart = (product) => {\r\n    setCart((prevCart) => {\r\n      const index = prevCart.findIndex(item => item.id === product.id);\r\n      if (index !== -1) {\r\n        const updatedCart = [...prevCart];\r\n        updatedCart[index].quantity += 1;\r\n        return updatedCart;\r\n      }\r\n      return [...prevCart, { ...product, quantity: 1 }];\r\n    });\r\n  };\r\n\r\n  const removeFromCart = (productId) => {\r\n    setCart((prevCart) => prevCart.filter(item => item.id !== productId));\r\n  };\r\n\r\n  const decreaseQuantity = (productId) => {\r\n    setCart((prevCart) => {\r\n      const index = prevCart.findIndex(item => item.id === productId);\r\n      if (index !== -1) {\r\n        const updatedCart = [...prevCart];\r\n        if (updatedCart[index].quantity > 1) {\r\n          updatedCart[index].quantity -= 1;\r\n        } else {\r\n          return updatedCart.filter(item => item.id !== productId);\r\n        }\r\n        return updatedCart;\r\n      }\r\n      return prevCart;\r\n    });\r\n  };\r\n\r\n  const logout = () => {\r\n    setUser(null);\r\n    setCart([]);\r\n    setHistory([]);\r\n  };\r\n\r\n  const checkout = () => {\r\n    setHistory((prev) => [...prev, ...cart]);\r\n    setCart([]);\r\n  };\r\n\r\n  return (\r\n    <StoreContext.Provider value={{\r\n      cart,\r\n      addToCart,\r\n      removeFromCart,\r\n      decreaseQuantity,\r\n      user,\r\n      setUser,\r\n      logout,\r\n      history,\r\n      checkout\r\n    }}>\r\n      {children}\r\n    </StoreContext.Provider>\r\n  );\r\n};"],"mappings":"0IAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEvD,MAAO,MAAM,CAAAC,YAAY,cAAGJ,aAAa,CAAC,CAAC,CAE3C,MAAO,MAAM,CAAAK,aAAa,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACxC,KAAM,CAACE,IAAI,CAAEC,OAAO,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAACS,IAAI,CAAEC,OAAO,CAAC,CAAGV,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAACW,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAE1C,KAAM,CAAAa,SAAS,CAAIC,OAAO,EAAK,CAC7BN,OAAO,CAAEO,QAAQ,EAAK,CACpB,KAAM,CAAAC,KAAK,CAAGD,QAAQ,CAACE,SAAS,CAACC,IAAI,EAAIA,IAAI,CAACC,EAAE,GAAKL,OAAO,CAACK,EAAE,CAAC,CAChE,GAAIH,KAAK,GAAK,CAAC,CAAC,CAAE,CAChB,KAAM,CAAAI,WAAW,CAAG,CAAC,GAAGL,QAAQ,CAAC,CACjCK,WAAW,CAACJ,KAAK,CAAC,CAACK,QAAQ,EAAI,CAAC,CAChC,MAAO,CAAAD,WAAW,CACpB,CACA,MAAO,CAAC,GAAGL,QAAQ,CAAAO,aAAA,CAAAA,aAAA,IAAOR,OAAO,MAAEO,QAAQ,CAAE,CAAC,GAAG,CACnD,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAE,cAAc,CAAIC,SAAS,EAAK,CACpChB,OAAO,CAAEO,QAAQ,EAAKA,QAAQ,CAACU,MAAM,CAACP,IAAI,EAAIA,IAAI,CAACC,EAAE,GAAKK,SAAS,CAAC,CAAC,CACvE,CAAC,CAED,KAAM,CAAAE,gBAAgB,CAAIF,SAAS,EAAK,CACtChB,OAAO,CAAEO,QAAQ,EAAK,CACpB,KAAM,CAAAC,KAAK,CAAGD,QAAQ,CAACE,SAAS,CAACC,IAAI,EAAIA,IAAI,CAACC,EAAE,GAAKK,SAAS,CAAC,CAC/D,GAAIR,KAAK,GAAK,CAAC,CAAC,CAAE,CAChB,KAAM,CAAAI,WAAW,CAAG,CAAC,GAAGL,QAAQ,CAAC,CACjC,GAAIK,WAAW,CAACJ,KAAK,CAAC,CAACK,QAAQ,CAAG,CAAC,CAAE,CACnCD,WAAW,CAACJ,KAAK,CAAC,CAACK,QAAQ,EAAI,CAAC,CAClC,CAAC,IAAM,CACL,MAAO,CAAAD,WAAW,CAACK,MAAM,CAACP,IAAI,EAAIA,IAAI,CAACC,EAAE,GAAKK,SAAS,CAAC,CAC1D,CACA,MAAO,CAAAJ,WAAW,CACpB,CACA,MAAO,CAAAL,QAAQ,CACjB,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAY,MAAM,CAAGA,CAAA,GAAM,CACnBjB,OAAO,CAAC,IAAI,CAAC,CACbF,OAAO,CAAC,EAAE,CAAC,CACXI,UAAU,CAAC,EAAE,CAAC,CAChB,CAAC,CAED,KAAM,CAAAgB,QAAQ,CAAGA,CAAA,GAAM,CACrBhB,UAAU,CAAEiB,IAAI,EAAK,CAAC,GAAGA,IAAI,CAAE,GAAGtB,IAAI,CAAC,CAAC,CACxCC,OAAO,CAAC,EAAE,CAAC,CACb,CAAC,CAED,mBACEN,IAAA,CAACC,YAAY,CAAC2B,QAAQ,EAACC,KAAK,CAAE,CAC5BxB,IAAI,CACJM,SAAS,CACTU,cAAc,CACdG,gBAAgB,CAChBjB,IAAI,CACJC,OAAO,CACPiB,MAAM,CACNhB,OAAO,CACPiB,QACF,CAAE,CAAAtB,QAAA,CACCA,QAAQ,CACY,CAAC,CAE5B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}